
import time

#Ребята, просьба использовать мою конструкцию переноса на следующюю строку для всего появляющегося текста
startgame = "Привет, это текстовая игра на тему ограбление где тебе нужно будет выбирать варианты развития событий чтобы получить свою концовку, приятной игры!"
# Появление
for letter in startgame:
    print(letter, end='', flush=True) #печать символов
    time.sleep(0.02) #задержка между появлением текста
print(); #Эта строчка нужна для переноса текста на следуюю строку
firstAction = "Первая глава - разработка плана и разведка"
for letter in firstAction:
    print(letter,end='',flush=True)
    time.sleep(0.02)
print();
NameOfMainCharacter = str(input("Дайте имя главному герою "))
List_main_info = [NameOfMainCharacter]
print("Теперь ваше имя: ", NameOfMainCharacter)
#Глава один, дейстиве первое
q = "Дейстиве первое - загадочный звонок"
for letter in q:
    print(letter,end='',flush=True)
    time.sleep(0.02)
print();
vibor1 = 0
while vibor1 != "Да":
    e = "'Звонит телефон......'"
    for letter in e:
        print(letter,end='',flush=True)
        time.sleep(0.02)
    print();
    vibor1 = str(input("Ответить на звонок? Да/Нет "))
t = "Загадончный голос: 'Здравствуй, " + NameOfMainCharacter + " ,я знаю что ты сейчас на мели, и хочу предложить тебе одну работёнку'"
for letter in t:
    print(letter,end='',flush=True)
    time.sleep(0.02)
y = "......"
for letter in y:
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()
vibor2 = 0
vibor3 = 0
while vibor3 != "Закончить":
    vibor2 = str(input("Послушать предложение? Да/Нет "))
    if vibor2 == "Да":
        q = "Загадочный голос: 'Отличный выбор дружище, вот что за работу я тебе предлагаю:"
        for letter in q:
            print(letter, end='', flush=True)
            time.sleep(0.02)
        print()
        break
    else:
        q = "Концовка №1 - 'Вы дальше остаётесь безработным....'"
        for letter in q:
            print(letter, end='', flush=True)
            time.sleep(0.02)
        print()
    vibor3 = str(input("Переиграть или закончить игру? Переиграть/Закончить "))
u = "Загадочный голос: 'Твоей работой будет ограбление банка... Теперь давай распланируем наше каждое действие..."
for letter in u:
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()
i = "Загадочный голос: 'Тебе нужны будут напарники?Да/Нет' "
for letter in i:
    print(letter, end='', flush=True)
    time.sleep(0.02)
i = str(input())
if i == "Да":
    o = "Загадочный голос:' Отличный выбоор ," + NameOfMainCharacter + ",у меня найдутся люди тебе в помощники"
    for letter in o:
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print();
else:
    p = "Загадочный голос: 'Вот и правильно, больше денег получишь...' "
    for letter in p:
        print(letter, end='', flush=True)
        time.sleep(0.02)
plan_list = [i]
print();
s = "Загадочный голос: 'Ограбление будет шумным или по стелсу?Шум/Стелс' "
for letter in s:
    print(letter, end='', flush=True)
    time.sleep(0.02)
s = str(input())
if s == "Шум":
    o1 = "Загадочный голос:'О, прямолинейный подход! Напоминаем: ваша скрытность теперь измеряется в децибелах)))))'"
    for letter in o1:
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print();
else:
    o2 = "Загадочный голос:О, мастер скрытности! Надеемся, ваши навыки громкого падения тоже прокачаны))))'" 
    for letter in o2:
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print();
plan_list = [i,s]
a = "Загадочный голос: 'Теперь определимся с оружием. Предпочитаешь что-то мощное или тихое?'"
for letter in a:
    print(letter, end='', flush=True)
    time.sleep(0.02)
print();
b = str(input("Мощное/Тихое "))
if b == "Мощное":
    c = "Загадочный голос: 'Автоматы и дробовики - классика жанра! Полиция оценит наш подход...'"
    for letter in c:
        print(letter, end='', flush=True)
        time.sleep(0.02)
else:
    c = "Загадочный голос: 'Пистолеты с глушителем - выбор истинного профессионала. Почти как в кино!'"
    for letter in c:

        print(letter, end='', flush=True)
        time.sleep(0.02)
print();
plan_list.append(b)

d = "Загадочный голос: 'Нужен ли нам водитель для побега? Это увеличит шансы на успех.'"
for letter in d:
    print(letter, end='', flush=True)
    time.sleep(0.02)
print();
e = str(input("Нужен водитель? Да/Нет "))
if e == "Да":
    f = "Загадочный голос: 'У меня есть один гонщик... бывший таксист с интересным прошлым.'"
    for letter in f:
        print(letter, end='', flush=True)
        time.sleep(0.02)
else:
    f = "Загадочный голос: 'Надеюсь, ты хорошо водишь под стрессом... и под выстрелами.'"
    for letter in f:
        print(letter, end='', flush=True)
        time.sleep(0.02)
print();
plan_list.append(e)

g = "Загадочный голос: 'Будем использовать взрывчатку или обойдемся без нее?'"
for letter in g:
    print(letter, end='', flush=True)
    time.sleep(0.02)
print();
h = str(input("Взрывчатка? Да/Нет "))
if h == "Да":
    j = "Загадочный голос: 'Отлично! Надеюсь, ты помнишь, где у взрывчатки передняя часть...'"
    for letter in j:
        print(letter, end='', flush=True)
        time.sleep(0.02)
else:
    j = "Загадочный голос: 'Консервативный подход... иногда старомодное - самое надежное.'"
    for letter in j:
        print(letter, end='', flush=True)
        time.sleep(0.02)
print();
plan_list.append(h)

k = "Загадочный голос: 'Теперь о маскировке. Будем в масках или рискнем без них?'"
for letter in k:
    print(letter, end='', flush=True)
    time.sleep(0.02)
print();
l = str(input("Маски? Да/Нет "))
if l == "Да":
    m = "Загадочный голос: 'Президенты США одобряют твой выбор масок!'"
    for letter in m:
        print(letter, end='', flush=True)
        time.sleep(0.02)
else:
    m = "Загадочный голос: 'Смелое решение... или безрассудное? Время покажет.'"
    for letter in m:
        print(letter, end='', flush=True)
        time.sleep(0.02)
print();
plan_list.append(l)

n = "Загадочный голос: 'Нужен ли хакер для отключения сигнализации?'"
for letter in n:
    print(letter, end='', flush=True)
    time.sleep(0.02)
print();
o = str(input("Хакер? Да/Нет "))
if o == "Да":
    p = "Загадочный голос: 'У меня есть парень, который взламывает системы быстрее, чем я заказываю пиццу!'"
    for letter in p:
        print(letter, end='', flush=True)
        time.sleep(0.02)
else:
    p = "Загадочный голос: 'Надеюсь, твои знания электроники лучше, чем мои кулинарные навыки...'"
    for letter in p:
        print(letter, end='', flush=True)
        time.sleep(0.02)
print();
plan_list.append(o)

q = "Загадочный голос: 'Будем грабить днем или ночью?'"
for letter in q:
    print(letter, end='', flush=True)
    time.sleep(0.02)
print();
r = str(input("День/Ночь "))
if r == "День":
    s = "Загадочный голос: 'Смело! Больше свидетелей, но и больше хаоса для побега.'"
    for letter in s:
        print(letter, end='', flush=True)
        time.sleep(0.02)
else:
    s = "Загадочный голос: 'Классика! Ночь скроет многое... включая наши ошибки.'"
    for letter in s:
        print(letter, end='', flush=True)
        time.sleep(0.02)
print();
plan_list.append(r)

t = "Загадочный голос: 'И последнее - запасной путь отступления. Нужен?'"
for letter in t:
    print(letter, end='', flush=True)
    time.sleep(0.02)
print();
u = str(input("Запасной путь? Да/Нет "))
if u == "Да":
    v = "Загадочный голос: 'Осторожность - мать мудрости! Или как там говорится...'"
    for letter in v:
        print(letter, end='', flush=True)
        time.sleep(0.02)
else:
    v = "Загадочный голос: 'Авантюризм! Надеюсь, твоя уверенность оправдается...'"
    for letter in v:
        print(letter, end='', flush=True)
        time.sleep(0.02)
print();
plan_list.append(u)

# Подведение итогов плана
w = "Загадочный голос: 'Итак, " + NameOfMainCharacter + ", наш план готов!'"
for letter in w:
    print(letter, end='', flush=True)
    time.sleep(0.02)
print();


x = "Загадочный голос: 'Давай повторим что у нас получилось:'"
print();
for letter in x:
    print(letter, end='', flush=True)
    time.sleep(0.02)
plan_items = [
    f"Напарники: {'Есть' if i == 'Да' else 'Нет'}",
    f"Стиль: {'Шумный' if s == 'Шум' else 'Стелс'}", 
    f"Оружие: {'Мощное' if b == 'Мощное' else 'Тихое'}",
    f"Водитель: {'Есть' if e == 'Да' else 'Нет'}",
    f"Взрывчатка: {'Есть' if h == 'Да' else 'Нет'}",
    f"Маски: {'Есть' if l == 'Да' else 'Нет'}",
    f"Хакер: {'Есть' if o == 'Да' else 'Нет'}",
    f"Время: {'День' if r == 'День' else 'Ночь'}",
    f"Запасной путь: {'Есть' if u == 'Да' else 'Нет'}"
]
print();
print("╔══════════════════════════╗")
print("║       ПЛАН ОГРАБЛЕНИЯ    ║")
print("╚══════════════════════════╝")

for item in plan_items:
    for letter in item:
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()

print("╔══════════════════════════╗")
print("║     ПЛАН УТВЕРЖДЕН!      ║") 
print("╚══════════════════════════╝")
print();
y = "Загадочный голос: 'План готов! Встречаемся завтра в установленном месте. И " + NameOfMainCharacter + "... удачи.'"
for letter in y:
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()

z = "Глава вторая - подготовка и сбор команды начинается..."
for letter in z:
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()


# Начало ограбления
for letter in "Вы подходите к банку. Напряжение нарастает...":
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()
time.sleep(1)

# Проверка времени ограбления
if plan_list[7] == "Ночь":
    for letter in "Банк окутан ночной тьмой. Идеальное время для скрытного проникновения.":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    time.sleep(1)
else:
    for letter in "Банк полон людей. Дневное ограбление - рискованный шаг!":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    time.sleep(1)

# Этап 1: Проникновение
for letter in "Этап 1: Проникновение":
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()
time.sleep(1.5)

if plan_list[6] == "Да":  # Хакер
    for letter in "Хакер успешно отключает систему сигнализации. Двери банка открыты.":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
else:
    for letter in "Приходится вскрывать дверь механически. Это занимает время...":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    time.sleep(4)

    if plan_list[1] == "Шум":
        for letter in "Громкий звук привлек внимание охраны!":
            print(letter, end='', flush=True)
            time.sleep(0.02)
        print()
        time.sleep(3)
 #Этап 2: Взаимодействие с охраной
for letter in "Этап 2: Встреча с охраной":
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()
time.sleep(2)
if plan_list[1] == "Стелс" and plan_list[2] == "Тихое":
    for letter in "Вы бесшумно нейтрализовали нескольких охранников.":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    
    for letter in "Но внезапно вы понимаете, что охраны оказалось слишком много!":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    
    for letter in "Ваш тихий подход может не сработать...":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    time.sleep(2)


    # Предлагаем игроку выбор
    change_plan = ""
    while change_plan not in ["Да", "Нет"]:
        change_plan = input("Изменить тактику на шумную? Да/Нет ")
    
    if change_plan == "Да":
        for letter in "Вы решаете действовать агрессивно!":
            print(letter, end='', flush=True)
            time.sleep(0.02)
        print()
        time.sleep(2)
        for letter in "Достаете оружие и открываете огонь по охране.":
            print(letter, end='', flush=True)
            time.sleep(0.02)
        print()
        
        for letter in "Шум привлекает внимание, но вы успешно нейтрализуете всех охранников.":
            print(letter, end='', flush=True)
            time.sleep(0.02)
        print()
        # Меняем стиль на шумный для последующих этапов
        plan_list[1] = "Шум"
    else:
        for letter in "Вы решаете продолжить в тихом режиме...":
            print(letter, end='', flush=True)
            time.sleep(0.02)
        print()
        
        for letter in "Но охрана замечает вас! Слишком много глаз следило за помещением.":
            print(letter, end='', flush=True)
            time.sleep(0.02)
        print()
        
        for letter in "Вас окружают и арестовывают...":
            print(letter, end='', flush=True)
            time.sleep(0.02)
        print()
        time.sleep(3)

        # Завершаем игру - концовка тюрьма
        for letter in "🔒 КОНЦОВКА №2 - АРЕСТ И ТЮРЬМА 🔒":
            print(letter, end='', flush=True)
            time.sleep(0.04)
        print()
        time.sleep(1)

        for letter in "Вы проводите следующие 15 лет в тюрьме, размышляя о своем решении.":
            print(letter, end='', flush=True)
            time.sleep(0.04)
        print()
        time.sleep(3)
        for letter in "ИГРА ОКОНЧЕНА!":
            print(letter, end='', flush=True)
            time.sleep(0.06)
        print()
        exit()
else:
    for letter in "Охрана поднимает тревогу! Срабатывает сигнализация.":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    
    if plan_list[0] == "Нет":  # Нет напарников
        for letter in "В одиночку сложно справиться с охраной!":
            print(letter, end='', flush=True)
            time.sleep(0.02)
        print()

        for letter in "Фух, это было очень тяжело...":
            print(letter, end='', flush=True)
            time.sleep(0.02)
        print()
        
        for letter in "Но главное я справился!":
            print(letter, end='', flush=True)
            time.sleep(0.02)
        print()
        time.sleep(2)

# Этап 3: Вскрытие сейфа
for letter in "Этап 3: Вскрытие главного сейфа":
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()
time.sleep(2)

if plan_list[4] == "Да":  # Взрывчатка
    for letter in "Взрывчатка сработала! Сейф вскрыт, деньги перед вами.":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
else:
    for letter in "Взламываем сейф вручную. Это требует времени...":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    time.sleep(5)

    if plan_list[6] == "Да":  # Хакер
        for letter in "Хакер взламывает электронный замок сейфа.":
            print(letter, end='', flush=True)
            time.sleep(0.02)
        print()

# Этап 4: Побег
for letter in "Этап 4: Побег!":
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()
time.sleep(2)

if plan_list[3] == "Да":  # Водитель
    for letter in "Водитель ждет вас у выхода с работающим двигателем!":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
else:
    for letter in "Приходится бежать пешком. Полиция уже близко!":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()

if plan_list[8] == "Да":  # Запасной путь
    for letter in "Используем запасной путь - он чист!":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()

# Определение исхода на основе выбранного плана
success_score = 0


# Подсчет баллов успеха
if plan_list[0] == "Да": success_score += 1  # Напарники
if plan_list[1] == "Стелс": success_score += 1  # Стелс подход
if plan_list[2] == "Тихое": success_score += 1  # Тихие оружие
if plan_list[3] == "Да": success_score += 1  # Водитель
if plan_list[6] == "Да": success_score += 1  # Хакер
if plan_list[7] == "Ночь": success_score += 1  # Ночное время
if plan_list[8] == "Да": success_score += 1  # Запасной путь

# Критические ошибки
critical_errors = 0
if plan_list[0] == "Нет" and plan_list[1] == "Шум": critical_errors += 1
if plan_list[3] == "Нет" and plan_list[1] == "Шум": critical_errors += 1
if plan_list[5] == "Нет": critical_errors += 1  # Без масок

# Определение концовки
for letter in "\n" + "═"*50:
    print(letter, end='', flush=True)
print()

for letter in "ФИНАЛ ИСТОРИИ":
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()

if success_score >= 5 and critical_errors == 0:
    # Концовка 1: Успех
    for letter in "🎉 КОНЦОВКА №1 - БЛЕСТЯЩИЙ УСПЕХ! 🎉":
        print(letter, end='', flush=True)
        time.sleep(0.04)
    print()
    
    for letter in "Вы успешно ограбили банк и скрылись с деньгами!":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    
    for letter in "Ваш план сработал идеально. " + NameOfMainCharacter + " становится легендой преступного мира.":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    
    for letter in "Сумма добычи: 2,000,000 $":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    
    for letter in "Вы начинаете новую жизнь на тропическом острове...":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    time.sleep(2)
elif success_score >= 3 or critical_errors <= 1:
    # Концовка 2: Тюрьма
    for letter in "🔒 КОНЦОВКА №4 - ЗАКЛЮЧЕНИЕ 🔒":
        print(letter, end='', flush=True)
        time.sleep(0.04)
    print()
    
    for letter in "Полиция окружает здание... Сопротивление бесполезно.":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    
    for letter in "Сирены, крики, руки за голову.":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    
    for letter in NameOfMainCharacter + ", вы приговорены к 15 годам тюремного заключения.":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    
    for letter in "Но кто знает... может быть, это не конец вашей истории?":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    
else:
    # Концовка 3: Смерть
    for letter in "💀 КОНЦОВКА №3 - ТРАГИЧЕСКАЯ ГИБЕЛЬ 💀":
        print(letter, end='', flush=True)
        time.sleep(0.04)
    print()
    
    for letter in "Что-то пошло не так... Очень не так.":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    
    for letter in "Выстрелы, крики, темнота...":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    
    for letter in NameOfMainCharacter + ", ваш путь окончен.":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()
    
    for letter in "Преступная жизнь редко заканчивается хорошо...":
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()

# Статистика
for letter in "\n" + "═"*50:
    print(letter, end='', flush=True)
print()

for letter in "СТАТИСТИКА ВАШЕГО ПЛАНА:":
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()

for letter in f"Баллы успеха: {success_score}/7":
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()

for letter in f"Критические ошибки: {critical_errors}":
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()

for letter in "Ваш план:":
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()


plan_items = [
    f"Напарники: {'Есть' if plan_list[0] == 'Да' else 'Нет'}",
    f"Стиль: {'Шумный' if plan_list[1] == 'Шум' else 'Стелс'}", 
    f"Оружие: {'Мощное' if plan_list[2] == 'Мощное' else 'Тихое'}",
    f"Водитель: {'Есть' if plan_list[3] == 'Да' else 'Нет'}",
    f"Взрывчатка: {'Есть' if plan_list[4] == 'Да' else 'Нет'}",
    f"Маски: {'Есть' if plan_list[5] == 'Да' else 'Нет'}",
    f"Хакер: {'Есть' if plan_list[6] == 'Да' else 'Нет'}",
    f"Время: {'День' if plan_list[7] == 'День' else 'Ночь'}",
    f"Запасной путь: {'Есть' if plan_list[8] == 'Да' else 'Нет'}"
]

for item in plan_items:
    for letter in item:
        print(letter, end='', flush=True)
        time.sleep(0.02)
    print()

for letter in "\nСпасибо за игру! Попробуйте другие комбинации для разных концовок.":
    print(letter, end='', flush=True)
    time.sleep(0.02)
print()
